# ğŸ“š ç„å¹»é˜ - å°è¯´æ¨èç³»ç»Ÿ

<div align="center">

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/Python-3.10+-green.svg)
![Django](https://img.shields.io/badge/Django-5.2+-brightgreen.svg)
![React](https://img.shields.io/badge/React-19.2-blue.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue.svg)

**ä¸€ä¸ªç°ä»£åŒ–çš„å…¨æ ˆå°è¯´æ¨èç³»ç»Ÿï¼Œèåˆæ™ºèƒ½æ¨èç®—æ³•ä¸æ²‰æµ¸å¼é˜…è¯»ä½“éªŒ**

[åœ¨çº¿æ¼”ç¤º](#) Â· [åŠŸèƒ½ä»‹ç»](#-æ ¸å¿ƒåŠŸèƒ½) Â· [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) Â· [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ) Â· [API æ–‡æ¡£](#-api-æ–‡æ¡£)

</div>

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ æ™ºèƒ½æ¨èç³»ç»Ÿ
- **åŸºäºå†…å®¹çš„æ¨è** - ä½¿ç”¨ TF-IDF + ä½™å¼¦ç›¸ä¼¼åº¦åˆ†æå°è¯´æ ‡ç­¾ã€åˆ†ç±»å’Œæè¿°
- **ååŒè¿‡æ»¤æ¨è** - åŸºäºç”¨æˆ·è¡Œä¸ºçŸ©é˜µï¼Œå‘ç°ç›¸ä¼¼ç”¨æˆ·çš„é˜…è¯»åå¥½
- **ç¦»çº¿é¢„è®¡ç®—** - å®šæ—¶ä»»åŠ¡æ‰¹é‡è®¡ç®—æ¨èç»“æœï¼Œ24å°æ—¶ç¼“å­˜æœºåˆ¶

### ğŸ“– æ²‰æµ¸å¼é˜…è¯»ä½“éªŒ
- **ç« èŠ‚é˜…è¯»å™¨** - æ”¯æŒç¿»é¡µã€è¿›åº¦ä¿å­˜ã€é˜…è¯»è®¾ç½®
- **é˜…è¯»å†å²è¿½è¸ª** - è®°å½•é˜…è¯»è¿›åº¦ï¼Œæ”¯æŒæ–­ç‚¹ç»­è¯»
- **ä¹¦æ¶ç®¡ç†** - æ”¶è—å–œçˆ±çš„å°è¯´ï¼Œä¸€é”®ç®¡ç†

### ğŸ’¬ ç”¨æˆ·äº’åŠ¨ç³»ç»Ÿ
- **åµŒå¥—è¯„è®º** - æ”¯æŒæ¥¼ä¸­æ¥¼å›å¤ï¼Œæ— é™å±‚çº§åµŒå¥—
- **è¯„åˆ†ç³»ç»Ÿ** - 1-5 æ˜Ÿè¯„åˆ†ï¼Œå®æ—¶æ›´æ–°å°è¯´è¯„åˆ†
- **æ”¶è—åŠŸèƒ½** - ä¸€é”®æ”¶è—/å–æ¶ˆï¼Œè½¯åˆ é™¤æœºåˆ¶

### ğŸ¨ ç°ä»£åŒ–å‰ç«¯
- **3D è§†è§‰æ•ˆæœ** - Three.js + React Three Fiber æ‰“é€ æ²‰æµ¸å¼é¦–é¡µ
- **å“åº”å¼è®¾è®¡** - é€‚é…æ¡Œé¢ç«¯ä¸ç§»åŠ¨ç«¯
- **æµç•…åŠ¨ç”»** - Framer Motion é©±åŠ¨çš„äº¤äº’åŠ¨æ•ˆ

### ğŸ” å®Œå–„çš„ç”¨æˆ·ç³»ç»Ÿ
- **JWT è®¤è¯** - å®‰å…¨çš„ Token è®¤è¯æœºåˆ¶
- **é‚®ç®±ç™»å½•** - æ”¯æŒé‚®ç®±æ³¨å†Œã€éªŒè¯ç éªŒè¯
- **è§’è‰²æƒé™** - æ™®é€šç”¨æˆ·ä¸ç®¡ç†å‘˜æƒé™åˆ†ç¦»

### ğŸ“Š åå°ç®¡ç†
- **å°è¯´ç®¡ç†** - CRUD æ“ä½œã€å‘å¸ƒ/ä¸‹æ¶æ§åˆ¶
- **ç”¨æˆ·ç®¡ç†** - æŸ¥çœ‹ç”¨æˆ·ã€å°ç¦/è§£å°
- **æ•°æ®åˆ†æ** - ç™»å½•ã€æœç´¢ã€æµè§ˆäº‹ä»¶è¿½è¸ª

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python** 3.10+
- **Node.js** 18+
- **æ•°æ®åº“** SQLiteï¼ˆé»˜è®¤ï¼‰æˆ– MySQL 8.0+

### åç«¯å¯åŠ¨

```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd backend

# 2. åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
python -m venv venw
.\venw\Scripts\Activate.ps1    # Windows PowerShell
# source venw/bin/activate     # Linux/Mac

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. æ•°æ®åº“è¿ç§»
python manage.py migrate

# 5. å¯¼å…¥å°è¯´æ•°æ®ï¼ˆå¯é€‰ï¼‰
python manage.py import_novels_csv ../sql/novels_mysql.csv

# 6. è®¡ç®—æ¨èï¼ˆå¯é€‰ï¼‰
python manage.py compute_recommendations

# 7. å¯åŠ¨æœåŠ¡å™¨
python manage.py runserver 0.0.0.0:8000
```

### å‰ç«¯å¯åŠ¨

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 2. å®‰è£…ä¾èµ–
npm install

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® **http://localhost:5173** å¼€å§‹ä½¿ç”¨ï¼

---

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Django | 5.2+ | Web æ¡†æ¶ |
| Django REST Framework | 3.15+ | RESTful API |
| SimpleJWT | 5.3+ | JWT è®¤è¯ |
| scikit-learn | 1.4+ | æ¨èç®—æ³• |
| Jieba | 0.42+ | ä¸­æ–‡åˆ†è¯ |
| Pandas | 2.1+ | æ•°æ®å¤„ç† |

### å‰ç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 19.2 | UI æ¡†æ¶ |
| TypeScript | 5.9 | ç±»å‹ç³»ç»Ÿ |
| Vite | 7.2 | æ„å»ºå·¥å…· |
| Ant Design | 6.1 | UI ç»„ä»¶åº“ |
| Three.js | 0.182 | 3D å›¾å½¢ |
| Tailwind CSS | 3.4 | æ ·å¼æ¡†æ¶ |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
story/
â”œâ”€â”€ backend/                 # Django åç«¯
â”‚   â”œâ”€â”€ server/              # Django ä¸»é…ç½®
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒåŠŸèƒ½ï¼ˆå¼‚å¸¸å¤„ç†ã€åˆ†é¡µã€æƒé™ï¼‰
â”‚   â”œâ”€â”€ users/               # ç”¨æˆ·æ¨¡å—
â”‚   â”œâ”€â”€ novels/              # å°è¯´æ¨¡å—
â”‚   â”œâ”€â”€ interactions/        # ç”¨æˆ·äº’åŠ¨ï¼ˆæ”¶è—ã€è¯„åˆ†ã€è¯„è®ºï¼‰
â”‚   â”œâ”€â”€ recommendations/     # æ¨èç³»ç»Ÿ
â”‚   â”œâ”€â”€ analytics/           # æ•°æ®åˆ†æ
â”‚   â””â”€â”€ admin_api/           # åå°ç®¡ç† API
â”‚
â”œâ”€â”€ frontend/                # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/             # API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ components/      # ç»„ä»¶ï¼ˆå« 3D æ•ˆæœï¼‰
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ store/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ router/          # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ docs/                    # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸ“¡ API æ–‡æ¡£

### è®¤è¯æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/auth/register` | ç”¨æˆ·æ³¨å†Œ |
| POST | `/api/auth/login` | ç”¨æˆ·ç™»å½• |
| POST | `/api/auth/logout` | ç”¨æˆ·ç™»å‡º |

### å°è¯´æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/novels/` | æœç´¢å°è¯´ |
| GET | `/api/novels/{id}/` | è·å–å°è¯´è¯¦æƒ… |
| GET | `/api/novels/{id}/chapters/` | è·å–ç« èŠ‚åˆ—è¡¨ |
| GET | `/api/novels/{novelId}/chapters/{chapterId}/` | è·å–ç« èŠ‚å†…å®¹ |

### äº’åŠ¨æ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/interactions/favorites/` | æ”¶è—/å–æ¶ˆæ”¶è— |
| POST | `/api/interactions/ratings/` | æäº¤è¯„åˆ† |
| GET/POST | `/api/interactions/comments/` | è·å–/å‘è¡¨è¯„è®º |
| GET/POST | `/api/interactions/history/` | é˜…è¯»å†å² |

### æ¨èæ¥å£

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/recommendations/` | è·å–ä¸ªæ€§åŒ–æ¨è |

---

## âš™ï¸ ç¯å¢ƒé…ç½®

### åç«¯é…ç½® (`backend/.env`)

```bash
DJANGO_SECRET_KEY=your-secret-key
DJANGO_DEBUG=true
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

# æ•°æ®åº“ï¼ˆé»˜è®¤ SQLiteï¼Œå¯åˆ‡æ¢ MySQLï¼‰
DB_ENGINE=sqlite
# DB_ENGINE=mysql
# DB_NAME=story
# DB_USER=root
# DB_PASSWORD=
# DB_HOST=127.0.0.1
# DB_PORT=3306
```

### å‰ç«¯é…ç½® (`frontend/.env.development`)

```bash
VITE_API_MODE=real
VITE_API_BASE_URL=
```

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### åç«¯

```bash
# æ•°æ®åº“è¿ç§»
python manage.py makemigrations
python manage.py migrate

# å¯¼å…¥å°è¯´æ•°æ®
python manage.py import_novels_csv ../sql/novels_mysql.csv

# è®¡ç®—æ¨è
python manage.py compute_recommendations --algorithm=cf    # ååŒè¿‡æ»¤
python manage.py compute_recommendations --algorithm=content  # å†…å®¹æ¨è

# è¿è¡Œæµ‹è¯•
python manage.py test
```

### å‰ç«¯

```bash
# å¼€å‘æœåŠ¡å™¨
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# ä»£ç æ£€æŸ¥
npm run lint

# è¿è¡Œæµ‹è¯•
npm run test
```

---

## ğŸ“ å¼€å‘è¯´æ˜

1. **è®¤è¯æ–¹å¼**ï¼šJWT Tokenï¼Œæœ‰æ•ˆæœŸ 24 å°æ—¶
2. **ç”¨æˆ·æ¨¡å‹**ï¼šä½¿ç”¨é‚®ç®±ä½œä¸ºç™»å½•å‡­è¯ï¼Œç”¨æˆ·åå¯é‡å¤
3. **è½¯åˆ é™¤æœºåˆ¶**ï¼šç”¨æˆ·ã€å°è¯´ã€æ”¶è—è®°å½•ä½¿ç”¨é€»è¾‘åˆ é™¤
4. **API é£æ ¼**ï¼šRESTfulï¼Œç»Ÿä¸€å“åº”æ ¼å¼ `{success, message, data}`
5. **æ—¶åŒºè®¾ç½®**ï¼šåç«¯ä½¿ç”¨ `Asia/Shanghai` æ—¶åŒº

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Starï¼**

Made with â¤ï¸ by Story Team

</div>
