## Context
推荐模块已具备个性化/热门/最新的 API 与离线计算框架，但缺少明确的算法规则与权重定义。新增规则需可直接映射到离线计算与在线接口输出。

## Goals / Non-Goals
- Goals:
  - 明确行为信号权重（收藏/评分）与阅读历史的使用方式
  - 明确个性化混合推荐权重与冷启动回退策略
  - 明确热门排序的权重计算规则
- Non-Goals:
  - 引入新的推荐算法框架或分布式计算
  - 引入额外的外部数据源

## Decisions
- Decision: 个性化推荐采用混合策略，协同过滤权重 0.6，内容推荐权重 0.4。
  - Why: 兼顾协同过滤的群体偏好与内容相似性，且实现成本低。
- Decision: 行为信号权重采用收藏 0.8、评分 0.2（评分归一化到 0-1）。
  - Why: 收藏更稳定、偏好更强，评分作为补充信号。
- Decision: 阅读历史作为隐式正向反馈，按“读过即有信号”参与推荐计算，默认权重 0.5（相对收藏）。
  - Why: 体现浏览行为但不超过收藏偏好强度。
- Decision: 热门推荐排序使用加权得分：
  - score = 0.5 * norm(favorites_count) + 0.3 * norm(views) + 0.2 * norm(avg_rating)
  - norm 使用 min-max 归一化；当分母为 0 时，该项记为 0。

## Risks / Trade-offs
- 阅读历史权重可能引入噪声 → 后续可在实验中调参。
- 加权归一化依赖统计分布 → 若样本极少，热门排序区分度可能不足。

## Migration Plan
- 先更新规格与测试，再更新离线计算与在线接口。
- 通过已有管理命令重算缓存数据。

## Open Questions
- 无
